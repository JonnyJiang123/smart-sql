# æ™ºèƒ½SQLeræŠ€æœ¯æ¶æ„å®ç°æ–¹æ¡ˆä¸æ‰§è¡Œè®¡åˆ’

## ğŸ“‹ é¡¹ç›®ç°çŠ¶åˆ†æ

**å½“å‰çŠ¶æ€**: é¡¹ç›®å¤„äºè®¾è®¡é˜¶æ®µï¼Œä»…æœ‰æ–‡æ¡£å’ŒUIè®¾è®¡ç¨¿ï¼Œæ— å®é™…ä»£ç å®ç°
**æŠ€æœ¯æ ˆ**: Rust 1.91 + Svelte + TypeScript + Tailwind CSS
**æ ¸å¿ƒç›®æ ‡**: AIé©±åŠ¨çš„æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€è½¬SQL

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„è®¾è®¡æ–¹æ¡ˆ

### 1. æ•´ä½“æ¶æ„å±‚æ¬¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯å±•ç¤ºå±‚                              â”‚
â”‚  Svelte + TypeScript + Tailwind CSS                    â”‚
â”‚  - å“åº”å¼UIç»„ä»¶                                         â”‚
â”‚  - çŠ¶æ€ç®¡ç† (Svelte Stores)                            â”‚
â”‚  - APIå®¢æˆ·ç«¯å°è£…                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    APIç½‘å…³å±‚                              â”‚
â”‚  Axum Webæ¡†æ¶                                           â”‚
â”‚  - è·¯ç”±ç®¡ç†                                            â”‚
â”‚  - è®¤è¯ä¸­é—´ä»¶                                           â”‚
â”‚  - è¯·æ±‚éªŒè¯ä¸é™æµ                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   ä¸šåŠ¡æœåŠ¡å±‚                              â”‚
â”‚  Rustæ ¸å¿ƒæœåŠ¡                                            â”‚
â”‚  - AIæœåŠ¡ (OpenAIé›†æˆ)                                  â”‚
â”‚  - æ•°æ®åº“ç®¡ç†æœåŠ¡                                        â”‚
â”‚  - æŸ¥è¯¢æ‰§è¡ŒæœåŠ¡                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   æ•°æ®è®¿é—®å±‚                              â”‚
â”‚  é€‚é…å™¨æ¨¡å¼ + è¿æ¥æ± ç®¡ç†                                   â”‚
â”‚  - SQLite/MySQL/PostgreSQLé€‚é…å™¨                        â”‚
â”‚  - è¿æ¥æ± å¤ç”¨                                           â”‚
â”‚  - SchemaæŠ½è±¡å±‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   å¤–éƒ¨æœåŠ¡å±‚                              â”‚
â”‚  - OpenAI API                                          â”‚
â”‚  - æœ¬åœ°æ–‡ä»¶å­˜å‚¨                                          â”‚
â”‚  - ç¼“å­˜ç³»ç»Ÿ (Rediså¯é€‰)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ ¸å¿ƒæŠ€æœ¯é€‰å‹

**åç«¯æŠ€æœ¯æ ˆ**:
- **Webæ¡†æ¶**: Axum 0.7 (é«˜æ€§èƒ½å¼‚æ­¥æ¡†æ¶)
- **æ•°æ®åº“ORM**: sqlx 0.7 (ç¼–è¯‘æ—¶SQLæ£€æŸ¥)
- **å¼‚æ­¥è¿è¡Œæ—¶**: tokio 1.35
- **åºåˆ—åŒ–**: serde 1.0
- **HTTPå®¢æˆ·ç«¯**: reqwest 0.11
- **é”™è¯¯å¤„ç†**: thiserror 1.0
- **æ—¥å¿—**: tracing 0.1

**å‰ç«¯æŠ€æœ¯æ ˆ**:
- **æ¡†æ¶**: SvelteKit 2.0 (å…¨æ ˆæ¡†æ¶)
- **è¯­è¨€**: TypeScript 5.3
- **æ ·å¼**: Tailwind CSS 3.4
- **æ„å»ºå·¥å…·**: Vite 5.0
- **çŠ¶æ€ç®¡ç†**: Svelte Stores
- **HTTPå®¢æˆ·ç«¯**: åŸç”Ÿfetch API
- **ä»£ç ç¼–è¾‘å™¨**: CodeMirror 6

**å¼€å‘å·¥å…·**:
- **æµ‹è¯•**: cargo test + Jest
- **ä»£ç è´¨é‡**: clippy + ESLint + Prettier
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **CI/CD**: GitHub Actions

### 3. é¡¹ç›®ç›®å½•ç»“æ„

```
smart-sql/
â”œâ”€â”€ backend/                    # Ruståç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs            # åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â””â”€â”€ database.rs    # æ•°æ®åº“é…ç½®
â”‚   â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ database.rs    # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ query.rs       # æŸ¥è¯¢æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ ai.rs          # AIç›¸å…³æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ ai.rs          # AIæœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ database.rs    # æ•°æ®åº“æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ query.rs       # æŸ¥è¯¢æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ adapters/          # æ•°æ®åº“é€‚é…å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ trait.rs       # é€‚é…å™¨æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ sqlite.rs      # SQLiteé€‚é…å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ mysql.rs       # MySQLé€‚é…å™¨
â”‚   â”‚   â”‚   â””â”€â”€ postgresql.rs  # PostgreSQLé€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ handlers/          # HTTPå¤„ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ ai.rs          # AIç›¸å…³API
â”‚   â”‚   â”‚   â”œâ”€â”€ database.rs    # æ•°æ®åº“API
â”‚   â”‚   â”‚   â””â”€â”€ query.rs       # æŸ¥è¯¢API
â”‚   â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.rs        # è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ cors.rs        # CORSä¸­é—´ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ logging.rs     # æ—¥å¿—ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚       â”œâ”€â”€ mod.rs
â”‚   â”‚       â”œâ”€â”€ error.rs       # é”™è¯¯å¤„ç†
â”‚   â”‚       â””â”€â”€ validation.rs  # è¾“å…¥éªŒè¯
â”‚   â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ integration/       # é›†æˆæµ‹è¯•
â”‚   â”‚   â””â”€â”€ unit/              # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ Cargo.toml
â”œâ”€â”€ frontend/                  # Svelteå‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/    # Svelteç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ common/    # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ database/  # æ•°æ®åº“ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ editor/    # ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ results/   # ç»“æœå±•ç¤ºç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ stores/        # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ app-store.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ database-store.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ query-store.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/      # APIæœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ api-client.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ai-service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ types/         # TypeScriptç±»å‹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ database.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ query.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚       â”œâ”€â”€ format.ts
â”‚   â”‚   â”‚       â””â”€â”€ validation.ts
â”‚   â”‚   â”œâ”€â”€ routes/            # é¡µé¢è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ +layout.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”‚   â””â”€â”€ api/           # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ app.html           # åº”ç”¨å…¥å£
â”‚   â”‚   â””â”€â”€ app.css            # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ static/                # é™æ€èµ„æº
â”‚   â”œâ”€â”€ tests/                 # å‰ç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ svelte.config.js
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â””â”€â”€ tsconfig.json
â”œâ”€â”€ docs/                      # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ docker/                    # Dockeré…ç½®
â”‚   â”œâ”€â”€ Dockerfile.backend
â”‚   â”œâ”€â”€ Dockerfile.frontend
â”‚   â””â”€â”€ docker-compose.yml
â”œâ”€â”€ scripts/                   # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ build.sh
â”‚   â”œâ”€â”€ test.sh
â”‚   â””â”€â”€ deploy.sh
â”œâ”€â”€ Makefile                   # æ„å»ºå‘½ä»¤
â”œâ”€â”€ README.md
â””â”€â”€ .gitignore
```

## ğŸš€ è¯¦ç»†æ‰§è¡Œè®¡åˆ’

### Phase 1: åŸºç¡€æ¶æ„æ­å»º (Week 1-2)

#### Week 1: é¡¹ç›®åˆå§‹åŒ–
**ç›®æ ‡**: å»ºç«‹å®Œæ•´çš„é¡¹ç›®éª¨æ¶å’Œå¼€å‘ç¯å¢ƒ

**å…·ä½“ä»»åŠ¡**:
1. **åˆ›å»ºé¡¹ç›®ç»“æ„**
   - åˆå§‹åŒ–Gitä»“åº“
   - åˆ›å»ºbackendå’Œfrontendç›®å½•
   - é…ç½®åŸºç¡€çš„Cargo.tomlå’Œpackage.json

2. **Ruståç«¯åˆå§‹åŒ–**
   - è®¾ç½®Axum webæ¡†æ¶
   - é…ç½®tokioå¼‚æ­¥è¿è¡Œæ—¶
   - å®ç°åŸºç¡€çš„Hello World API
   - é…ç½®æ—¥å¿—ç³»ç»Ÿ (tracing)

3. **Svelteå‰ç«¯åˆå§‹åŒ–**
   - åˆ›å»ºSvelteKité¡¹ç›®
   - é…ç½®TypeScriptå’ŒTailwind CSS
   - å®ç°åŸºç¡€å¸ƒå±€ç»„ä»¶
   - é…ç½®å¼€å‘æœåŠ¡å™¨

4. **å¼€å‘å·¥å…·é…ç½®**
   - è®¾ç½®Makefile
   - é…ç½®pre-commit hooks
   - è®¾ç½®åŸºç¡€çš„CI/CD

**äº¤ä»˜ç‰©**:
- å¯è¿è¡Œçš„å‰åç«¯é¡¹ç›®
- Hello Worldé¡µé¢å’ŒAPI
- å®Œæ•´çš„å¼€å‘ç¯å¢ƒé…ç½®

#### Week 2: æ•°æ®åº“æŠ½è±¡å±‚
**ç›®æ ‡**: å®ç°æ•°æ®åº“è¿æ¥å’ŒSchemaè·å–æ ¸å¿ƒåŠŸèƒ½

**Ruståç«¯ä»»åŠ¡**:
1. **å®šä¹‰æ ¸å¿ƒæ¥å£**
   ```rust
   // adapters/trait.rs
   #[async_trait]
   pub trait DatabaseAdapter: Send + Sync {
       async fn connect(&self) -> Result<(), DatabaseError>;
       async fn get_schema(&self) -> Result<DatabaseSchema, DatabaseError>;
       async fn execute_query(&self, sql: &str) -> Result<QueryResult, DatabaseError>;
       fn get_database_type(&self) -> DatabaseType;
   }
   ```

2. **å®ç°SQLiteé€‚é…å™¨**
   - è¿æ¥æ± ç®¡ç† (sqlx::SqlitePool)
   - Schemaè·å–åŠŸèƒ½
   - æŸ¥è¯¢æ‰§è¡ŒåŠŸèƒ½
   - å®Œæ•´çš„é”™è¯¯å¤„ç†

3. **æ•°æ®æ¨¡å‹å®šä¹‰**
   - DatabaseSchema, TableInfo, ColumnInfo
   - QueryResult, DatabaseError
   - åºåˆ—åŒ–/ååºåˆ—åŒ–æ”¯æŒ

4. **å•å…ƒæµ‹è¯• (100%è¦†ç›–ç‡)**
   - ç©ºæ•°æ®åº“æµ‹è¯•
   - è¡¨åˆ›å»ºå’ŒSchemaè·å–
   - æŸ¥è¯¢æ‰§è¡Œæµ‹è¯•
   - é”™è¯¯å¤„ç†æµ‹è¯•

**å‰ç«¯ä»»åŠ¡**:
1. **çŠ¶æ€ç®¡ç†è®¾è®¡**
   ```typescript
   // stores/database-store.ts
   export const databaseConnections = writable<Map<string, DatabaseConnection>>(new Map());
   export const activeDatabaseId = writable<string | null>(null);
   export const databaseSchema = writable<DatabaseSchema | null>(null);
   ```

2. **APIå®¢æˆ·ç«¯å°è£…**
   - ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
   - è¯·æ±‚è¶…æ—¶å’Œé‡è¯•
   - ç±»å‹å®‰å…¨çš„APIè°ƒç”¨

3. **åŸºç¡€ç»„ä»¶å¼€å‘**
   - Layoutç»„ä»¶
   - Headerç»„ä»¶
   - æ•°æ®åº“è¿æ¥ç®¡ç†ç•Œé¢

### Phase 2: æ ¸å¿ƒåŠŸèƒ½å®ç° (Week 3-6)

#### Week 3: APIæœåŠ¡å±‚
**ç›®æ ‡**: å®ç°å®Œæ•´çš„RESTful API

**åç«¯ä»»åŠ¡**:
1. **è·¯ç”±è®¾è®¡**
   ```rust
   // main.rs
   let app = Router::new()
       .route("/api/database/schema", get(get_database_schema))
       .route("/api/database/execute", post(execute_query))
       .route("/api/ai/generate-sql", post(generate_sql))
       .layer(middleware::from_fn(cors_middleware))
       .layer(middleware::from_fn(logging_middleware));
   ```

2. **é”™è¯¯å¤„ç†ä¸­é—´ä»¶**
   - ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼
   - æ—¥å¿—è®°å½•
   - é€‚å½“çš„HTTPçŠ¶æ€ç 

3. **è¾“å…¥éªŒè¯**
   - SQLæ³¨å…¥é˜²æŠ¤
   - å‚æ•°éªŒè¯
   - è¯·æ±‚å¤§å°é™åˆ¶

**å‰ç«¯ä»»åŠ¡**:
1. **æ•°æ®åº“è¿æ¥ç•Œé¢**
   - è¿æ¥è¡¨å•
   - è¿æ¥çŠ¶æ€æ˜¾ç¤º
   - è¿æ¥åˆ—è¡¨ç®¡ç†

2. **Schemaå±•ç¤ºç»„ä»¶**
   - æ ‘å½¢ç»“æ„å±•ç¤º
   - å±•å¼€/æŠ˜å åŠŸèƒ½
   - æœç´¢è¿‡æ»¤

#### Week 4: AIæœåŠ¡é›†æˆ
**ç›®æ ‡**: é›†æˆOpenAI APIï¼Œå®ç°è‡ªç„¶è¯­è¨€è½¬SQL

**åç«¯ä»»åŠ¡**:
1. **AIæœåŠ¡å®ç°**
   ```rust
   pub struct AIService {
       openai_client: OpenAIClient,
       prompt_template: PromptTemplate,
   }

   impl AIService {
       pub async fn generate_sql(&self, query: &str, schema: &DatabaseSchema) -> Result<GeneratedSQL, AIError> {
           let prompt = self.build_prompt(query, schema);
           let response = self.openai_client.complete(prompt).await?;
           self.parse_and_validate_sql(response, schema).await
       }
   }
   ```

2. **æç¤ºè¯å·¥ç¨‹**
   - Schemaæ„ŸçŸ¥çš„æç¤ºè¯æ¨¡æ¿
   - å®‰å…¨è§„åˆ™é›†æˆ
   - å¤šè¯­è¨€æ”¯æŒ (ä¸­è‹±æ–‡)

3. **SQLéªŒè¯å’Œæ¸…ç†**
   - è¯­æ³•éªŒè¯
   - æ³¨å…¥é˜²æŠ¤
   - æƒé™æ£€æŸ¥

**æµ‹è¯•é‡ç‚¹**:
- ç®€å•æŸ¥è¯¢è½¬æ¢å‡†ç¡®æ€§
- å¤æ‚æŸ¥è¯¢å¤„ç†èƒ½åŠ›
- SQLæ³¨å…¥é˜²æŠ¤æ•ˆæœ
- é”™è¯¯å¤„ç†å®Œæ•´æ€§

#### Week 5: SQLç¼–è¾‘å™¨
**ç›®æ ‡**: å®ç°åŠŸèƒ½å®Œæ•´çš„SQLç¼–è¾‘å™¨

**å‰ç«¯ä»»åŠ¡**:
1. **CodeMirroré›†æˆ**
   ```typescript
   // components/SqlEditor.svelte
   import { EditorView } from '@codemirror/view';
   import { EditorState } from '@codemirror/state';
   import { sql } from '@codemirror/lang-sql';

   function createEditor(element: HTMLElement) {
       const state = EditorState.create({
           extensions: [sql(), EditorView.theme(editorTheme)],
           doc: initialValue
       });
       
       return new EditorView({
           state,
           parent: element
       });
   }
   ```

2. **ç¼–è¾‘å™¨åŠŸèƒ½**
   - è¯­æ³•é«˜äº®
   - è‡ªåŠ¨è¡¥å…¨
   - å¿«æ·é”®æ”¯æŒ (Ctrl+Enteræ‰§è¡Œ)
   - æ ¼å¼åŒ–åŠŸèƒ½

3. **AIé›†æˆç•Œé¢**
   - è‡ªç„¶è¯­è¨€è¾“å…¥æ¡†
   - AIç”ŸæˆæŒ‰é’®
   - ç”Ÿæˆç»“æœé¢„è§ˆ

#### Week 6: æŸ¥è¯¢ç»“æœå±•ç¤º
**ç›®æ ‡**: å®ç°é«˜æ€§èƒ½çš„æŸ¥è¯¢ç»“æœå±•ç¤º

**å‰ç«¯ä»»åŠ¡**:
1. **ç»“æœè¡¨æ ¼ç»„ä»¶**
   ```svelte
   <!-- components/QueryResults.svelte -->
   <script lang="ts">
       export let result: QueryResult;
       let sortColumn: string = '';
       let sortDirection: 'asc' | 'desc' = 'asc';
       
       function sortBy(column: string) {
           // æ’åºé€»è¾‘
       }
   </script>
   
   <div class="results-container">
       <div class="results-toolbar">
           <button on:click={exportToCSV}>å¯¼å‡ºCSV</button>
           <button on:click={exportToExcel}>å¯¼å‡ºExcel</button>
       </div>
       <div class="results-table">
           <!-- è™šæ‹Ÿæ»šåŠ¨è¡¨æ ¼ -->
       </div>
   </div>
   ```

2. **æ€§èƒ½ä¼˜åŒ–**
   - è™šæ‹Ÿæ»šåŠ¨ (å¤§æ•°æ®é›†)
   - åˆ†é¡µæ”¯æŒ
   - æ‡’åŠ è½½

3. **æ•°æ®å¯¼å‡ºåŠŸèƒ½**
   - CSVå¯¼å‡º
   - Excelå¯¼å‡º
   - JSONæ ¼å¼

### Phase 3: é«˜çº§åŠŸèƒ½ (Week 7-10)

#### Week 7: æŸ¥è¯¢å†å²ç®¡ç†
**åŠŸèƒ½**:
- æŸ¥è¯¢å†å²å­˜å‚¨
- å†å²è®°å½•æœç´¢
- æ”¶è—åŠŸèƒ½
- å¿«é€Ÿå¤ç”¨

#### Week 8: æ€§èƒ½ä¼˜åŒ–
**åç«¯ä¼˜åŒ–**:
- è¿æ¥æ± ä¼˜åŒ–
- æŸ¥è¯¢ç¼“å­˜
- æ…¢æŸ¥è¯¢ç›‘æ§

**å‰ç«¯ä¼˜åŒ–**:
- ç»„ä»¶æ‡’åŠ è½½
- ä»£ç åˆ†å‰²
- ç¼“å­˜ç­–ç•¥

#### Week 9: å¯è§†åŒ–åŠŸèƒ½
**å›¾è¡¨é›†æˆ**:
- Chart.jsæˆ–D3.js
- æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾
- äº¤äº’å¼å›¾è¡¨

#### Week 10: å®‰å…¨åŠ å›º
**å®‰å…¨æªæ–½**:
- OAuth 2.0è®¤è¯
- SQLæ³¨å…¥é˜²æŠ¤å¢å¼º
- æ•°æ®åŠ å¯†
- å®¡è®¡æ—¥å¿—

### Phase 4: æµ‹è¯•ä¸å‘å¸ƒ (Week 11-12)

#### Week 11: å…¨é¢æµ‹è¯•
**æµ‹è¯•ç±»å‹**:
- å•å…ƒæµ‹è¯• (100%è¦†ç›–ç‡)
- é›†æˆæµ‹è¯•
- ç«¯åˆ°ç«¯æµ‹è¯•
- æ€§èƒ½æµ‹è¯•
- å®‰å…¨æµ‹è¯•

#### Week 12: å‘å¸ƒå‡†å¤‡
**å‘å¸ƒä»»åŠ¡**:
- Dockeré•œåƒæ„å»º
- éƒ¨ç½²æ–‡æ¡£
- ç”¨æˆ·æ‰‹å†Œ
- æ¼”ç¤ºç¯å¢ƒ

## ğŸ“Š è´¨é‡ä¿è¯ä½“ç³»

### 1. ä»£ç è´¨é‡æ ‡å‡†
- **æµ‹è¯•è¦†ç›–ç‡**: 100%
- **ä»£ç å®¡æŸ¥**: æ‰€æœ‰PRå¿…é¡»review
- **é™æ€æ£€æŸ¥**: clippy/ESLintæ— è­¦å‘Š
- **æ ¼å¼åŒ–**: cargo fmt/prettier

### 2. æ€§èƒ½ç›®æ ‡
- **APIå“åº”æ—¶é—´**: < 200ms
- **æŸ¥è¯¢æ‰§è¡Œæ—¶é—´**: < 2s
- **å‰ç«¯åŠ è½½æ—¶é—´**: < 3s
- **å†…å­˜å ç”¨**: < 512MB

### 3. å®‰å…¨è¦æ±‚
- SQLæ³¨å…¥é˜²æŠ¤
- XSSé˜²æŠ¤
- CSRFé˜²æŠ¤
- æ•°æ®ä¼ è¾“åŠ å¯†

## ğŸ› ï¸ å¼€å‘å·¥å…·é“¾

### æ„å»ºå‘½ä»¤
```makefile
# Makefile
.PHONY: dev build test lint clean

dev:
	cargo run --bin backend &
	cd frontend && npm run dev

build:
	cargo build --release
	cd frontend && npm run build

test:
	cargo test --all-features
	cd frontend && npm test

lint:
	cargo clippy -- -D warnings
	cd frontend && npm run lint

clean:
	cargo clean
	cd frontend && rm -rf node_modules dist
```

### CI/CDé…ç½®
```yaml
# .github/workflows/ci.yml
name: CI
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions-rs/toolchain@v1
      - name: Run tests
        run: make test
      - name: Run linting
        run: make lint
```

## ğŸ¯ é£é™©è¯„ä¼°ä¸åº”å¯¹

### æŠ€æœ¯é£é™©
1. **AI APIæˆæœ¬**: å®ç°æŸ¥è¯¢ç¼“å­˜å’Œå»é‡
2. **Rustå­¦ä¹ æ›²çº¿**: å‚è€ƒæˆç†Ÿæ¨¡å¼ï¼Œç»“å¯¹ç¼–ç¨‹
3. **æ€§èƒ½ç“¶é¢ˆ**: æ—©æœŸæ€§èƒ½æµ‹è¯•ï¼ŒæŒç»­ä¼˜åŒ–

### è¿›åº¦é£é™©
1. **åŠŸèƒ½å¤æ‚åº¦**: MVPä¼˜å…ˆï¼Œè¿­ä»£å®Œå–„
2. **æµ‹è¯•æ—¶é—´**: TDDæ¨¡å¼ï¼Œè¾¹å¼€å‘è¾¹æµ‹è¯•
3. **é›†æˆé—®é¢˜**: æ—©æœŸé›†æˆæµ‹è¯•ï¼ŒæŒç»­éªŒè¯

## ğŸ“ˆ æˆåŠŸæŒ‡æ ‡

### åŠŸèƒ½æŒ‡æ ‡
- AIç”ŸæˆSQLå‡†ç¡®ç‡ > 85%
- æŸ¥è¯¢æ‰§è¡ŒæˆåŠŸç‡ > 95%
- æ”¯æŒæ•°æ®åº“ç±»å‹ â‰¥ 3ç§

### æ€§èƒ½æŒ‡æ ‡
- å¹¶å‘ç”¨æˆ·æ”¯æŒ > 100
- æŸ¥è¯¢å“åº”æ—¶é—´ < 2s
- ç³»ç»Ÿå¯ç”¨æ€§ > 99.9%

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
- é¡µé¢åŠ è½½æ—¶é—´ < 3s
- ç”¨æˆ·æ“ä½œå“åº” < 200ms
- ç•Œé¢å‹å¥½åº¦è¯„åˆ† > 4.5/5

è¿™ä¸ªæŠ€æœ¯æ¶æ„æ–¹æ¡ˆå’Œæ‰§è¡Œè®¡åˆ’ä¸ºæ™ºèƒ½SQLeré¡¹ç›®æä¾›äº†å®Œæ•´çš„å®æ–½è·¯å¾„ï¼Œç¡®ä¿é¡¹ç›®èƒ½å¤ŸæŒ‰æ—¶ã€é«˜è´¨é‡åœ°äº¤ä»˜ï¼Œå¹¶ä¸ºæœªæ¥çš„æ‰©å±•å¥ å®šåšå®åŸºç¡€ã€‚
