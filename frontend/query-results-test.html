<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QueryResults ç»„ä»¶æµ‹è¯•</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      max-width: 1400px;
      margin: 0 auto;
    }
    h1 {
      color: #333;
      margin-bottom: 10px;
    }
    .info {
      background: #e3f2fd;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border-left: 4px solid #2196f3;
    }
    .demo-controls {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    button {
      background: #2196f3;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      margin-right: 10px;
      font-size: 14px;
    }
    button:hover {
      background: #1976d2;
    }
    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    .component-container {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      height: 600px;
    }
    .feature-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }
    .feature {
      padding: 8px;
      background: #f0f0f0;
      border-radius: 4px;
      font-size: 14px;
    }
    .feature::before {
      content: "âœ“ ";
      color: #4caf50;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“Š QueryResults ç»„ä»¶åŠŸèƒ½æµ‹è¯•</h1>
    
    <div class="info">
      <h3 style="margin-top:0;">âœ… å·²å®ç°åŠŸèƒ½æ¸…å•ï¼ˆWeek 6 - 58%å®Œæˆï¼‰</h3>
      <div class="feature-list">
        <div class="feature">å“åº”å¼è¡¨æ ¼å¸ƒå±€</div>
        <div class="feature">åˆ—æ’åºï¼ˆå‡åº/é™åºï¼‰</div>
        <div class="feature">æ•°æ®æœç´¢è¿‡æ»¤</div>
        <div class="feature">åˆ†é¡µæ§åˆ¶ï¼ˆ25-200è¡Œ/é¡µï¼‰</div>
        <div class="feature">CSVå¯¼å‡º</div>
        <div class="feature">JSONå¯¼å‡º</div>
        <div class="feature">å¤åˆ¶åˆ°å‰ªè´´æ¿</div>
        <div class="feature">æ‰§è¡Œæ—¶é—´ç»Ÿè®¡</div>
        <div class="feature">NULLå€¼ç‰¹æ®Šæ˜¾ç¤º</div>
        <div class="feature">åŠ è½½/é”™è¯¯çŠ¶æ€</div>
        <div class="feature">æš—é»‘æ¨¡å¼æ”¯æŒ</div>
        <div class="feature">å›ºå®šè¡¨å¤´æ»šåŠ¨</div>
      </div>
    </div>

    <div class="demo-controls">
      <h3>æµ‹è¯•åœºæ™¯</h3>
      <button onclick="loadSampleData()">åŠ è½½ç¤ºä¾‹æ•°æ® (100è¡Œ)</button>
      <button onclick="loadLargeData()">åŠ è½½å¤§æ•°æ®é›† (5000è¡Œ)</button>
      <button onclick="loadEmptyData()">åŠ è½½ç©ºç»“æœ</button>
      <button onclick="loadErrorState()">è§¦å‘é”™è¯¯çŠ¶æ€</button>
      <button onclick="loadLoadingState()">è§¦å‘åŠ è½½çŠ¶æ€</button>
      <button onclick="resetState()">é‡ç½®</button>
    </div>

    <div class="component-container">
      <div id="app"></div>
    </div>
  </div>

  <script type="module">
    import { mount } from './dist/assets/index-yZfWcC2s.js';
    
    // è¿™é‡Œéœ€è¦å®é™…å¯¼å…¥QueryResultsç»„ä»¶
    // ç”±äºç»„ä»¶æ˜¯Svelteç¼–è¯‘çš„ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦æ­£ç¡®å¼•å…¥
    
    console.log('QueryResultsç»„ä»¶æµ‹è¯•é¡µé¢å·²åŠ è½½');
    console.log('ç»„ä»¶è·¯å¾„: frontend/src/components/QueryResults.svelte');
    console.log('');
    console.log('æµ‹è¯•æ–¹æ³•:');
    console.log('1. åœ¨å®é™…åº”ç”¨ä¸­å¼•å…¥ç»„ä»¶');
    console.log('2. ä½¿ç”¨Vite dev serveræµ‹è¯•: npm run dev');
    console.log('3. ä¼ å…¥ä¸åŒçš„propsæµ‹è¯•å„ç§çŠ¶æ€');
    
    // ç¤ºä¾‹æ•°æ®ç”Ÿæˆå‡½æ•°
    window.generateSampleData = (rows) => {
      const columns = ['id', 'name', 'email', 'age', 'department', 'salary', 'hire_date'];
      const departments = ['Engineering', 'Sales', 'Marketing', 'HR', 'Finance'];
      const names = ['Alice', 'Bob', 'Charlie', 'Diana', 'Eve', 'Frank', 'Grace', 'Henry'];
      
      const data = [];
      for (let i = 1; i <= rows; i++) {
        data.push([
          i,
          names[i % names.length] + ' ' + i,
          `user${i}@example.com`,
          Math.floor(Math.random() * 40) + 22,
          departments[Math.floor(Math.random() * departments.length)],
          Math.floor(Math.random() * 50000) + 50000,
          `2020-${String(Math.floor(Math.random() * 12) + 1).padStart(2, '0')}-${String(Math.floor(Math.random() * 28) + 1).padStart(2, '0')}`
        ]);
      }
      
      return {
        columns,
        rows: data,
        execution_time: Math.floor(Math.random() * 200) + 50
      };
    };
    
    window.loadSampleData = () => {
      const data = window.generateSampleData(100);
      console.log('Sample data loaded:', data.rows.length, 'rows');
    };
    
    window.loadLargeData = () => {
      const data = window.generateSampleData(5000);
      console.log('Large dataset loaded:', data.rows.length, 'rows');
    };
    
    window.loadEmptyData = () => {
      console.log('Empty result loaded');
    };
    
    window.loadErrorState = () => {
      console.log('Error state triggered');
    };
    
    window.loadLoadingState = () => {
      console.log('Loading state triggered');
    };
    
    window.resetState = () => {
      console.log('State reset');
    };
  </script>
</body>
</html>
